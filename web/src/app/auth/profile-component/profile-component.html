<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">{{ 'profile.profile' | translate }}</h4>
    </div>
    @if (user){
    <div class="card-body">
      <div class="row">
        <div class="col">
          <div class="row mb-3">
            <div class="col-sm-4 fw-bold">{{ 'profile.username' | translate }}</div>
            <div class="col-sm-8">{{ user.username }}</div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 fw-bold">{{ 'profile.email' | translate }}</div>
            <div class="col-sm-8">{{ user.email }}</div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-4 fw-bold">{{ 'profile.registrationDate' | translate }}</div>
            <div class="col-sm-8">{{ user.registrationDate | date:'dd.MM.yyyy' }}</div>
          </div>
        </div>
        <div class="col-8">
            <img [src]="avatarUrl"
                 class="rounded-circle"
                 width="250"
                 height="250"
                 style="float: right"
                 alt="{{ 'profile.settings.avatarAlt' | translate }}">
        </div>
      </div>

    </div>
    <div class="card-footer d-flex justify-content-between">
      <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#uploadImageModal">{{'profile.settings.editAvatar' | translate}}</button>
    </div>
    } @else {
      <div class="row mb-3">
        <div class="col-sm-4 fw-bold">{{ 'fetching' | translate }}</div>
      </div>
    }
  </div>
</div>

<app-upload-image-dialog-component
  (imageUploaded)="onAvatarUploaded($event)"
  [circled]="true"
  [modalTitle]="'profile.settings.editAvatarTitle' | translate">
</app-upload-image-dialog-component>
